# å¿«é€Ÿå¼€å§‹

æœ¬æŒ‡å—å°†å¸®åŠ©ä½ åœ¨ 5 åˆ†é’Ÿå†…å¼€å§‹ä½¿ç”¨ Colynã€‚

---

## å‰ç½®è¦æ±‚

åœ¨å¼€å§‹ä¹‹å‰ï¼Œç¡®ä¿ä½ å·²å®‰è£…ï¼š

- **Node.js** 18 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Git** 2.15 æˆ–æ›´é«˜ç‰ˆæœ¬
- **npm** æˆ– **yarn** åŒ…ç®¡ç†å™¨

---

## æ­¥éª¤ 1: å®‰è£… Colyn

### ä½¿ç”¨ npmï¼ˆæ¨èï¼‰

```bash
# å…¨å±€å®‰è£…
npm install -g colyn

# æˆ–ä½¿ç”¨ voltaï¼ˆæ¨èï¼‰
volta install colyn
```

### é…ç½® Shell é›†æˆ

å®‰è£…åï¼Œé…ç½® shell é›†æˆä»¥å¯ç”¨è‡ªåŠ¨ç›®å½•åˆ‡æ¢åŠŸèƒ½ï¼š

```bash
colyn setup
```

ç„¶åé‡æ–°æ‰“å¼€ç»ˆç«¯æˆ–è¿è¡Œï¼š

```bash
# Zsh
source ~/.zshrc

# Bash
source ~/.bashrc
```

> **ä»€ä¹ˆæ˜¯ Shell é›†æˆï¼Ÿ**
> Shell é›†æˆå…è®¸ Colyn åœ¨å‘½ä»¤æ‰§è¡Œåè‡ªåŠ¨åˆ‡æ¢åˆ°ç›®æ ‡ç›®å½•ï¼Œæå¤§æå‡ä½¿ç”¨ä½“éªŒã€‚

---

## æ­¥éª¤ 2: åˆå§‹åŒ–é¡¹ç›®

åœ¨ä½ çš„ Git é¡¹ç›®æ ¹ç›®å½•ä¸­è¿è¡Œï¼š

```bash
cd /path/to/your/project
colyn init -p 3000
```

è¿™å°†ï¼š
- é‡ç»„é¡¹ç›®ç»“æ„ï¼Œåˆ›å»ºä¸»åˆ†æ”¯ç›®å½•å’Œ worktrees ç›®å½•
- é…ç½®ç¯å¢ƒå˜é‡ï¼ˆPORT å’Œ WORKTREEï¼‰
- è‡ªåŠ¨è®¾ç½® .gitignore

### åˆå§‹åŒ–åçš„ç›®å½•ç»“æ„

```
my-project/                    # é¡¹ç›®æ ¹ç›®å½•
â”œâ”€â”€ .colyn/                    # Colyn æ ‡è¯†ç›®å½•
â”œâ”€â”€ my-project/                # ä¸»åˆ†æ”¯ç›®å½•
â”‚   â”œâ”€â”€ .git/                  # Git ä»“åº“
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ .env.local             # PORT=3000, WORKTREE=main
â”‚   â””â”€â”€ ...
â””â”€â”€ worktrees/                 # Worktrees ç›®å½•ï¼ˆç¨ååˆ›å»ºï¼‰
```

---

## æ­¥éª¤ 3: åˆ›å»ºç¬¬ä¸€ä¸ª Worktree

ç°åœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„ worktree æ¥å¼€å‘æ–°åŠŸèƒ½ï¼š

```bash
colyn add feature/login
```

è¿™å°†ï¼š
1. åˆ›å»ºæ–°çš„ worktree åœ¨ `worktrees/task-1/` ç›®å½•
2. è‡ªåŠ¨åˆ†é…ç«¯å£å· 3001
3. å¤åˆ¶å¹¶æ›´æ–° .env.local æ–‡ä»¶
4. **è‡ªåŠ¨åˆ‡æ¢åˆ° worktree ç›®å½•**ï¼ˆå¦‚æœå·²é…ç½® shell é›†æˆï¼‰

### éªŒè¯åˆ‡æ¢

```bash
# æŸ¥çœ‹å½“å‰ç›®å½•
pwd
# è¾“å‡º: /path/to/my-project/worktrees/task-1

# æŸ¥çœ‹ç¯å¢ƒå˜é‡
cat .env.local
# PORT=3001
# WORKTREE=1
```

---

## æ­¥éª¤ 4: åœ¨ Worktree ä¸­å¼€å‘

ç°åœ¨ä½ å¯ä»¥åœ¨æ–°çš„ worktree ä¸­å¼€å‘åŠŸèƒ½ï¼š

```bash
# å®‰è£…ä¾èµ–ï¼ˆå¦‚æœéœ€è¦ï¼‰
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
# Server running at http://localhost:3001
```

---

## æ­¥éª¤ 5: åˆ›å»ºæ›´å¤š Worktrees

ä½ å¯ä»¥åˆ›å»ºå¤šä¸ª worktree æ¥å¹¶è¡Œå¼€å‘ï¼š

```bash
# åˆ›å»ºç¬¬äºŒä¸ª worktree
colyn add feature/dashboard
# è‡ªåŠ¨åˆ‡æ¢åˆ° worktrees/task-2/ï¼Œç«¯å£ 3002

# åˆ›å»ºç¬¬ä¸‰ä¸ª worktree
colyn add bugfix/user-profile
# è‡ªåŠ¨åˆ‡æ¢åˆ° worktrees/task-3/ï¼Œç«¯å£ 3003
```

---

## æ­¥éª¤ 6: æŸ¥çœ‹æ‰€æœ‰ Worktrees

éšæ—¶æŸ¥çœ‹æ‰€æœ‰ worktree çš„çŠ¶æ€ï¼š

```bash
colyn list
```

è¾“å‡ºç¤ºä¾‹ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ID     â”‚ åˆ†æ”¯                 â”‚ ç«¯å£ â”‚ è·¯å¾„                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0-main â”‚ main                 â”‚ 3000 â”‚ /path/to/my-project        â”‚
â”‚ 1      â”‚ feature/login      * â”‚ 3001 â”‚ worktrees/task-1           â”‚
â”‚ 2      â”‚ feature/dashboard    â”‚ 3002 â”‚ worktrees/task-2           â”‚
â”‚ 3      â”‚ bugfix/user-profile  â”‚ 3003 â”‚ worktrees/task-3           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

* è¡¨ç¤ºå½“å‰æ‰€åœ¨çš„ worktree
```

---

## æ­¥éª¤ 7: åˆå¹¶å®Œæˆçš„åŠŸèƒ½

å½“åŠŸèƒ½å¼€å‘å®Œæˆåï¼Œåˆå¹¶å›ä¸»åˆ†æ”¯ï¼š

```bash
# ç¡®ä¿æ‰€æœ‰æ›´æ”¹å·²æäº¤
git status

# åˆå¹¶åˆ°ä¸»åˆ†æ”¯
colyn merge 1

# æˆ–ä½¿ç”¨åˆ†æ”¯å
colyn merge feature/login

# åˆå¹¶å¹¶æ¨é€åˆ°è¿œç¨‹
colyn merge 1 --push
```

åˆå¹¶è¿‡ç¨‹ï¼š
1. æ£€æŸ¥å·¥ä½œç›®å½•æ˜¯å¦å¹²å‡€
2. åœ¨ worktree ä¸­å…ˆåˆå¹¶ä¸»åˆ†æ”¯
3. åœ¨ä¸»åˆ†æ”¯ä¸­åˆå¹¶ worktree åˆ†æ”¯
4. ä½¿ç”¨ `--no-ff` ä¿æŒæ¸…æ™°çš„åˆ†æ”¯å†å²
5. ï¼ˆå¯é€‰ï¼‰æ¨é€åˆ°è¿œç¨‹ä»“åº“

---

## æ­¥éª¤ 8: åˆ é™¤ä¸éœ€è¦çš„ Worktree

åŠŸèƒ½åˆå¹¶åï¼Œå¯ä»¥åˆ é™¤ worktreeï¼š

```bash
colyn remove 1

# æˆ–ä½¿ç”¨åˆ†æ”¯å
colyn remove feature/login
```

åˆ é™¤å‰ä¼šè¿›è¡Œæ£€æŸ¥ï¼š
- æ˜¯å¦æœ‰æœªæäº¤çš„æ›´æ”¹
- åˆ†æ”¯æ˜¯å¦å·²åˆå¹¶
- æ˜¯å¦éœ€è¦åŒæ—¶åˆ é™¤æœ¬åœ°åˆ†æ”¯

å¦‚æœå½“å‰åœ¨è¢«åˆ é™¤çš„ worktree ä¸­ï¼Œä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯ç›®å½•ã€‚

---

## æ­¥éª¤ 9: åœ¨ Worktree ä¸­åˆ‡æ¢åˆ†æ”¯

ä½ å¯ä»¥åœ¨ç°æœ‰ worktree ä¸­åˆ‡æ¢åˆ°å…¶ä»–åˆ†æ”¯ï¼Œè€Œä¸æ˜¯åˆ›å»ºæ–°çš„ worktreeï¼š

```bash
# åœ¨å½“å‰ worktree ä¸­åˆ‡æ¢åˆ†æ”¯
colyn checkout feature/new-feature

# æˆ–æŒ‡å®š worktree ID
colyn checkout 1 feature/new-feature
```

è¿™ä¼šï¼š
1. æ£€æŸ¥å½“å‰åˆ†æ”¯æ˜¯å¦å·²åˆå¹¶
2. è‡ªåŠ¨å½’æ¡£ `.claude/logs/` ä¸‹çš„æ—¥å¿—æ–‡ä»¶
3. åˆ‡æ¢åˆ°æ–°åˆ†æ”¯
4. ï¼ˆå¯é€‰ï¼‰åˆ é™¤å·²åˆå¹¶çš„æ—§åˆ†æ”¯

---

## å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `colyn init -p 3000` | åˆå§‹åŒ–é¡¹ç›®ç»“æ„ |
| `colyn add <branch>` | åˆ›å»ºæ–°çš„ worktree |
| `colyn list` | åˆ—å‡ºæ‰€æœ‰ worktree |
| `colyn merge <target>` | åˆå¹¶ worktree åˆ°ä¸»åˆ†æ”¯ |
| `colyn remove <target>` | åˆ é™¤ worktree |
| `colyn checkout <branch>` | åœ¨ worktree ä¸­åˆ‡æ¢åˆ†æ”¯ |
| `colyn info` | æ˜¾ç¤ºå½“å‰ç›®å½•ä¿¡æ¯ |
| `colyn repair` | ä¿®å¤é¡¹ç›®é…ç½® |

---

## ä¸‹ä¸€æ­¥

ç°åœ¨ä½ å·²ç»æŒæ¡äº† Colyn çš„åŸºæœ¬ç”¨æ³•ï¼Œæ¥ä¸‹æ¥å¯ä»¥ï¼š

- ğŸ“– é˜…è¯» [æ ¸å¿ƒæ¦‚å¿µ](03-core-concepts.md) æ·±å…¥ç†è§£ Colyn çš„å·¥ä½œåŸç†
- ğŸ“š æŸ¥çœ‹ [å‘½ä»¤å‚è€ƒ](04-command-reference.md) äº†è§£æ‰€æœ‰å‘½ä»¤çš„è¯¦ç»†ç”¨æ³•
- ğŸš€ å­¦ä¹  [é«˜çº§ç”¨æ³•](05-advanced-usage.md) æŒæ¡æ›´å¤šæŠ€å·§
- ğŸ–¥ï¸ å¦‚æœä½¿ç”¨ tmuxï¼ŒæŸ¥çœ‹ [tmux é›†æˆ](06-tmux-integration.md)

---

## æ•…éšœæ’é™¤

é‡åˆ°é—®é¢˜ï¼ŸæŸ¥çœ‹ [æ•…éšœæ’é™¤](08-troubleshooting.md) ç« èŠ‚ã€‚

å¸¸è§é—®é¢˜ï¼š

- **å‘½ä»¤æ‰§è¡Œåæ²¡æœ‰è‡ªåŠ¨åˆ‡æ¢ç›®å½•** â†’ ç¡®è®¤å·²è¿è¡Œ `colyn setup` å¹¶é‡å¯ç»ˆç«¯
- **ç«¯å£å†²çª** â†’ æ£€æŸ¥ .env.local æ–‡ä»¶ä¸­çš„ PORT é…ç½®
- **åˆ†æ”¯å·²å­˜åœ¨** â†’ ä½¿ç”¨ `colyn list` æŸ¥çœ‹ç°æœ‰ worktree

